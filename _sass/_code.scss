/**
 * @description
 * This file defines styles for code blocks and inline code snippets,
 * adhering to the Nord theme and design system specifications.
 * It ensures that code is presented clearly and consistently throughout the site.
 *
 * Key features:
 * - Styles for inline `<code>` elements.
 * - Styles for `<pre>` elements containing code blocks.
 * - Uses Nord theme colors for backgrounds and text.
 * - Implements basic syntax highlighting structure (to be enhanced by Jekyll/JS).
 * - Includes styles for a copy-to-clipboard button if implemented later.
 *
 * @dependencies
 * - `_sass/_variables.scss`: For Nord theme colors, typography (monospace font), and spacing units.
 *
 * @notes
 * - Syntax highlighting details will depend on the chosen highlighter (e.g., Rouge for Jekyll).
 *   These base styles provide a foundation.
 * - The copy button styling is a placeholder and will be fleshed out in Step 21.
 */

// -----------------------------------------------------------------------------
// Inline Code (`<code>`)
// -----------------------------------------------------------------------------

code {
  font-family: $font-monospace;
  font-size: 0.9em; // Slightly smaller than base text for differentiation
  background-color: $nord1; // Secondary Background: Nord Dark Gray (lighter)
  color: $nord13; // Tertiary Accent: Nord Aurora Yellow for inline code text
  padding: 0.2em 0.4em; // Small padding around inline code
  border-radius: $border-radius-base; // Subtle border-radius
  // White space and break properties to ensure inline code behaves as expected
  white-space: nowrap; // Prevent inline code from wrapping if it's short
}

// -----------------------------------------------------------------------------
// Preformatted Text / Code Blocks (`<pre>`)
// -----------------------------------------------------------------------------

pre {
  font-family: $font-monospace;
  font-size: 0.9em; // Consistent with inline code, or adjust if needed
  background-color: $nord1; // Secondary Background: Nord Dark Gray (lighter)
  color: $nord6; // Text Color: Nord Snow Storm for code block text
  padding: $spacing-md; // Generous padding: 24px
  padding-right: 50px; // Extra padding on the right for the copy button
  margin-top: 0;
  margin-bottom: $spacing-md; // Default bottom margin: 24px
  border: 1px solid $nord3; // Subtle border using Polar Night
  border-radius: $border-radius-base; // Consistent border-radius
  overflow-x: auto; // Enable horizontal scrolling for long lines of code
  line-height: 1.5; // Slightly adjusted line-height for better readability in code blocks

  // Reset styles for `<code>` elements when they are inside `<pre>`
  // to avoid double styling and inherit from `<pre>`.
  code {
    font-family: inherit; // Inherit monospace font from <pre>
    font-size: inherit; // Inherit font size from <pre>
    color: inherit; // Inherit text color from <pre>
    background-color: transparent; // No separate background for code inside pre
    padding: 0; // No padding for code inside pre
    border-radius: 0; // No border-radius for code inside pre
    border: none; // No border for code inside pre
    white-space: inherit; // Allow pre to control whitespace wrapping
  }
}

// -----------------------------------------------------------------------------
// Syntax Highlighting (Basic Structure - to be enhanced by Rouge/Pygments)
// -----------------------------------------------------------------------------
// These are generic classes that common syntax highlighters might use.
// Specific styles will be applied by Jekyll's Rouge highlighter.
// This section provides a fallback or base if needed.

.highlight {
  background: $nord1; // Ensure the container for highlighted code also has the correct background
  margin-bottom: $spacing-md;

  pre {
    margin-bottom: 0; // Remove margin from pre if it's inside .highlight div
  }
}

// Example: Basic styling for comments, keywords, etc.
// These would typically be generated by the syntax highlighter.
// .c    { color: $nord4; font-style: italic; } // Comment
// .k    { color: $nord9; font-weight: bold; }  // Keyword
// .s    { color: $nord14; }                   // String
// .nb   { color: $nord8; }                    // Name.Builtin
// .p    { color: $nord6; }                    // Punctuation

// -----------------------------------------------------------------------------
// Code Block Component Enhancements (e.g., Language Indicator, Copy Button)
// -----------------------------------------------------------------------------

// Placeholder for language indicator styling if added
.code-block-language {
  display: block;
  text-align: right;
  font-size: 0.8em;
  color: $nord4;
  padding: $spacing-xs $spacing-sm;
  background-color: $nord2;
  border-top-left-radius: $border-radius-base;
  border-top-right-radius: $border-radius-base;
  border-bottom: 1px solid $nord3;
}

// Placeholder for copy button styling (Step 21)
.code-copy-button {
  position: absolute;
  top: $spacing-xs;
  right: $spacing-xs;
  background-color: $nord3;
  color: $nord6;
  border: none;
  padding: $spacing-xs/2 $spacing-xs;
  border-radius: $border-radius-base;
  cursor: pointer;
  font-size: 0.8em;
  opacity: 0.7;
  transition: opacity $transition-base;

  &:hover {
    opacity: 1;
    background-color: $nord8; // Primary Accent on hover
  }
}

// Adjust pre if a copy button is present to avoid overlap
pre[data-has-copy-button="true"] {
  position: relative;
  // padding-top: $spacing-lg; // Add padding if button is inside and language indicator is not used
}
